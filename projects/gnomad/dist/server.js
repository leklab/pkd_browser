(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var o in t)e.o(t,o)&&!e.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=require("path");var t=e.n(r);const o=require("compression");var s=e.n(o);const n=require("express");var i=e.n(n);const c=process.env.PORT||80,a=i()();a.use(s()()),process.env.ENABLE_SSL_REDIRECT&&a.use(((e,r,t)=>{"http"===e.get("x-forwarded-proto")?r.redirect(`https://${e.get("host")}${e.url}`):t()}));const l=t().resolve(__dirname,"public");a.use(i().static(l)),a.get("*",((e,r)=>{r.sendFile(t().join(l,"index.html"))})),a.listen(c,(()=>{console.log(`Listening on ${c}`)}))})();
//# sourceMappingURL=server.js.map